<!DOCTYPE html>
<html lang="en-US">
 <head>
    <title>motion</title>
   <meta charset="UTF-8">
   <style>
	html, body { height: 100%; margin: 0; }
	body {
		overflow: hidden;
		background-color: gray;
	}
   </style>
 </head>
 <body>
 <canvas id="canvas1"></canvas>
  <script>
	var canvas = document.getElementById("canvas1");
	var ctx = canvas.getContext("2d");
	canvas.height = window.innerHeight;
	canvas.width = window.innerWidth;
	
	
	function handleMotionEvent(event){
		let x = event.accelerationIncludingGravity.x ?? 0;
		let y = event.accelerationIncludingGravity.y ?? 0;
		let z = event.accelerationIncludingGravity.z ?? 0;
		
		let size = (z + 10) * 5
		
		let pos = {
			x: x * Math.floor(canvas.width / 20) + Math.floor(canvas.width / 2 - size / 2),
			y: y * Math.floor(canvas.height / 20) + Math.floor(canvas.height / 2 - size / 2)
		}
		
		ctx.fillRect(
			pos.x,
			pos.y,
			size,
			size
		);
		
		ctx.font = "40px Consolas";
		ctx.fillText(pos.x + ", " + pos.y + ", " + size + " (" + x + ", " + y + ", " + z + ")", 20, 40);
	}
	window.addEventListener("devicemotion", handleMotionEvent, true);
	
	
	function onResize(){
		canvas.height = window.innerHeight;
		canvas.width = window.innerWidth;
	}
	window.addEventListener("resize",onResize);
  </script>
 </body>
</html>
